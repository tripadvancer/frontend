'use client'

import { closeMapPopups } from '@/redux/features/map-slice'
import { useAppDispatch } from '@/redux/hooks'

type WidgetFlipToggleProps = {
    variant: 'blue' | 'orange'
    onClick: () => void
}

export const WidgetFlipToggler = ({ variant, onClick }: WidgetFlipToggleProps) => {
    const dispatch = useAppDispatch()

    const handleToggle = () => {
        onClick()
        dispatch(closeMapPopups())
    }

    return (
        <div
            className={`hover-animated absolute -right-2 top-2 cursor-pointer sm:top-6 text-${variant}-100 hover:text-${variant}-active`}
            onClick={handleToggle}
        >
            {variant === 'blue' && (
                <svg width="58" height="48" viewBox="0 0 58 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.289561 13.4856C-0.759689 10.8581 1.17215 8 3.99734 8H58V40C58 44.4183 54.4242 48 50.0132 48H3.99734C1.17215 48 -0.75969 45.1419 0.28956 42.5144L5.49251 29.4856C5.87334 28.5319 5.87334 27.4681 5.49251 26.5144L0.289561 13.4856Z" />
                    <path d="M58 8C58 3.58173 54.4242 -1.93129e-07 50.0132 0V8L58 8Z" />
                    <path
                        fillRule="evenodd"
                        d="M34.8729 34.3118C33.3063 35.5649 31.3192 36.3142 29.1571 36.3142C24.0998 36.3142 20 32.2145 20 27.1571C20 22.0998 24.0998 18 29.1571 18C34.2144 18 38.3142 22.0998 38.3142 27.1571C38.3142 29.3192 37.5649 31.3063 36.3118 32.8729L40 36.5611L38.5611 38L34.8729 34.3118ZM36.2793 27.1571C36.2793 31.0906 33.0906 34.2793 29.1571 34.2793C25.2236 34.2793 22.0349 31.0906 22.0349 27.1571C22.0349 23.2236 25.2236 20.0349 29.1571 20.0349C33.0906 20.0349 36.2793 23.2236 36.2793 27.1571Z"
                        fill="white"
                    />
                </svg>
            )}

            {variant === 'orange' && (
                <svg width="58" height="48" viewBox="0 0 58 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.289561 13.4856C-0.759689 10.8581 1.17215 8 3.99734 8H58V40C58 44.4183 54.4242 48 50.0132 48H3.99734C1.17215 48 -0.75969 45.1419 0.28956 42.5144L5.49251 29.4856C5.87334 28.5319 5.87334 27.4681 5.49251 26.5144L0.289561 13.4856Z" />
                    <path d="M58 8C58 3.58173 54.4242 -1.93129e-07 50.0132 0V8L58 8Z" />
                    <path
                        fillRule="evenodd"
                        d="M30.0007 16C29.0523 16 28.2849 16.4804 26.9063 17.2634L22.0952 19.9957C20.7165 20.7787 19.9101 21.1921 19.4359 22C18.9617 22.8079 19.0008 23.7017 19.0008 25.2677V30.7323C19.0008 32.2983 18.9617 33.1921 19.4359 34C19.9101 34.8079 20.7165 35.2213 22.0952 36.0043L26.9063 38.7367C28.2849 39.5197 29.0523 40 30.0007 40C30.949 40 31.7151 39.5197 33.0937 38.7367L37.9062 36.0043C39.2848 35.2213 40.0899 34.8079 40.5641 34C41.0383 33.192 40.9992 32.2983 40.9992 30.7323V25.2677C40.9992 23.7017 41.0383 22.8079 40.5641 22C40.0899 21.1921 39.2848 20.7787 37.9062 19.9957L33.0937 17.2634C31.7151 16.4804 30.949 16 30.0007 16ZM30.0007 17.3241C30.4309 17.3241 31.042 17.6274 32.4207 18.4104L37.2331 21.1427C38.05 21.6066 38.561 21.918 38.9052 22.1772L32.4207 25.8612C31.042 26.6442 30.4309 26.9461 30.0007 26.9461C29.5704 26.9461 28.958 26.6442 27.5793 25.8612L21.0948 22.1785C21.439 21.9191 21.9501 21.6073 22.7682 21.1427L27.5793 18.4104C28.958 17.6273 29.5704 17.3242 30.0007 17.3241ZM39.5782 23.3241C39.6342 23.7471 39.6532 24.3384 39.6532 25.2677V30.7323C39.6532 32.2983 39.6146 32.9714 39.3995 33.3379C39.1843 33.7045 38.6118 34.0743 37.2331 34.8573L32.4207 37.5896C31.6033 38.0539 31.0737 38.3337 30.6737 38.4974V31.1319C30.6737 29.5659 30.7123 28.8929 30.9274 28.5263C31.1425 28.1598 31.7151 27.7899 33.0937 27.0069L39.5782 23.3241ZM20.4231 23.3255L26.9063 27.0069C28.2849 27.7899 28.8575 28.1598 29.0726 28.5263C29.2878 28.8929 29.3276 29.5659 29.3276 31.1319V38.4974C28.9272 38.3337 28.3966 38.0539 27.5793 37.5897L22.7682 34.8574C21.3895 34.0744 20.817 33.7045 20.6019 33.338C20.3867 32.9714 20.3468 32.2983 20.3468 30.7324V25.2677C20.3468 24.3394 20.3668 23.7484 20.4231 23.3255Z"
                        fill="white"
                    />
                    <path
                        d="M31.5205 22.1251C31.5205 22.6035 30.8406 22.9913 30.002 22.9913C29.1633 22.9913 28.4834 22.6035 28.4834 22.1251C28.4834 21.6466 29.1633 21.2588 30.002 21.2588C30.8406 21.2588 31.5205 21.6466 31.5205 22.1251Z"
                        fill="white"
                    />
                    <path
                        d="M26.985 22.1251C26.985 22.6035 26.3051 22.9913 25.4664 22.9913C24.6277 22.9913 23.9478 22.6035 23.9478 22.1251C23.9478 21.6466 24.6277 21.2588 25.4664 21.2588C26.3051 21.2588 26.985 21.6466 26.985 22.1251Z"
                        fill="white"
                    />
                    <path
                        d="M36.0567 22.1251C36.0567 22.6035 35.3768 22.9913 34.5381 22.9913C33.6994 22.9913 33.0195 22.6035 33.0195 22.1251C33.0195 21.6466 33.6994 21.2588 34.5381 21.2588C35.3768 21.2588 36.0567 21.6466 36.0567 22.1251Z"
                        fill="white"
                    />
                    <path
                        d="M33.8664 28.4825C34.2772 28.7196 34.2732 29.4957 33.8574 30.2158C33.4416 30.936 32.7716 31.3275 32.3608 31.0903C31.95 30.8531 31.954 30.0771 32.3698 29.3569C32.7855 28.6368 33.4556 28.2453 33.8664 28.4825Z"
                        fill="white"
                    />
                    <path
                        d="M38.1616 30.8468C38.5724 31.084 38.5684 31.8601 38.1526 32.5802C37.7368 33.3003 37.0668 33.6919 36.656 33.4547C36.2452 33.2175 36.2492 32.4415 36.665 31.7213C37.0807 31.0012 37.7508 30.6097 38.1616 30.8468Z"
                        fill="white"
                    />
                    <path
                        d="M33.8669 33.2734C34.2777 33.5106 34.2736 34.2866 33.8579 35.0068C33.4421 35.7269 32.772 36.1184 32.3612 35.8813C31.9504 35.6441 31.9544 34.868 32.3702 34.1479C32.786 33.4277 33.4561 33.0362 33.8669 33.2734Z"
                        fill="white"
                    />
                    <path
                        d="M38.1619 25.7634C38.5727 26.0006 38.5687 26.7766 38.1529 27.4968C37.7371 28.2169 37.0671 28.6084 36.6563 28.3712C36.2455 28.1341 36.2495 27.358 36.6653 26.6379C37.081 25.9177 37.7511 25.5262 38.1619 25.7634Z"
                        fill="white"
                    />
                    <path
                        d="M26.0433 28.4634C25.6265 28.704 25.6306 29.4914 26.0524 30.2221C26.4743 30.9527 27.1541 31.35 27.5709 31.1093C27.9877 30.8687 27.9837 30.0813 27.5618 29.3506C27.14 28.62 26.4601 28.2227 26.0433 28.4634Z"
                        fill="white"
                    />
                    <path
                        d="M21.912 30.8278C21.4952 31.0684 21.4993 31.8558 21.9211 32.5865C22.343 33.3171 23.0228 33.7144 23.4396 33.4737C23.8564 33.2331 23.8524 32.4457 23.4305 31.715C23.0087 30.9843 22.3288 30.5871 21.912 30.8278Z"
                        fill="white"
                    />
                </svg>
            )}
        </div>
    )
}
